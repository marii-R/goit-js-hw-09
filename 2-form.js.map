{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n    email: \"\",\n    message: \"\",\n}\n\n// try {\n//     localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n// } catch (err) {\n//     console.log(err)\n// }\n\nconst getFormDataFromLS = () => {\n    try {\n        const dataFromLS = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n        return dataFromLS || { email: \"\", message: \"\" };\n    } catch (err) {\n        console.log(err);\n        return { email: \"\", message: \"\" };\n    };\n}\nformData = getFormDataFromLS();\n\nconst form = document.querySelector(\".feedback-form\");\n\nconst { email, message } = form.elements;\n\nemail.value = formData.email || \"\";\nmessage.value = formData.message || \"\";\n\nform.addEventListener(\"input\", ({ target: { name, value } }) => {\n    formData[name] = value.trim();\n    try {\n        localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n    } catch (err) {\n        console.log(err);\n    }\n  localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n});\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  if (!email.value.trim() || !message.value.trim()) {\n    alert(\"Fill please all fields\");\n    return;\n    }\n    \n    console.log(formData);\n    \n    try {\n        localStorage.removeItem(\"feedback-form-state\");\n    } catch (err) {\n        console.log(err);\n    }\n   \n    \n    form.reset();\n    \n    formData = { email: \"\", message: \"\" };\n    \n});"],"names":["formData","getFormDataFromLS","err","form","email","message","name","value","event"],"mappings":"oDAAA,IAAIA,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAQA,MAAMC,EAAoB,IAAM,CAC5B,GAAI,CAEA,OADmB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GACpD,CAAE,MAAO,GAAI,QAAS,EAAE,CAChD,OAAQC,EAAK,CACV,eAAQ,IAAIA,CAAG,EACR,CAAE,MAAO,GAAI,QAAS,EAAE,CACvC,CACA,EACAF,EAAWC,EAAiB,EAE5B,MAAME,EAAO,SAAS,cAAc,gBAAgB,EAE9C,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAK,SAEhCC,EAAM,MAAQJ,EAAS,OAAS,GAChCK,EAAQ,MAAQL,EAAS,SAAW,GAEpCG,EAAK,iBAAiB,QAAS,CAAC,CAAE,OAAQ,CAAE,KAAAG,EAAM,MAAAC,CAAK,KAAS,CAC5DP,EAASM,CAAI,EAAIC,EAAM,KAAI,EAC3B,GAAI,CACA,aAAa,QAAQ,sBAAuB,KAAK,UAAUP,CAAQ,CAAC,CACvE,OAAQE,EAAK,CACV,QAAQ,IAAIA,CAAG,CAClB,CACH,aAAa,QAAQ,sBAAuB,KAAK,UAAUF,CAAQ,CAAC,CACtE,CAAC,EAEDG,EAAK,iBAAiB,SAAWK,GAAU,CAEzC,GADAA,EAAM,eAAc,EAChB,CAACJ,EAAM,MAAM,KAAI,GAAM,CAACC,EAAQ,MAAM,OAAQ,CAChD,MAAM,wBAAwB,EAC9B,MACC,CAED,QAAQ,IAAIL,CAAQ,EAEpB,GAAI,CACA,aAAa,WAAW,qBAAqB,CAChD,OAAQE,EAAK,CACV,QAAQ,IAAIA,CAAG,CAClB,CAGDC,EAAK,MAAK,EAEVH,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CAEvC,CAAC"}